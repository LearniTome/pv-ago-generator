<!-- Section Entreprise -->
<div class="form-section" id="entreprise-section">
    <h3 class="section-title">
        <i class="fas fa-building"></i>
        Informations sur l'entreprise
    </h3>

    <!-- Section des templates -->
    <div class="template-section mb-4">
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="fas fa-file-word text-primary"></i>
                            Modèles de document
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row align-items-center">
                            <div class="col-md-6">
                                <div class="custom-input-wrapper">
                                    <label for="document-template" class="form-label">Sélectionner un modèle</label>
                                    <select class="form-select" id="document-template">
                                        <option value="">Choisir un modèle...</option>
                                    </select>
                                    <div class="form-text">Les modèles sont chargés depuis le dossier templates</div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="template-type-info mt-3 mt-md-0">
                                    <div class="alert alert-info mb-0" role="alert">
                                        <i class="fas fa-info-circle"></i>
                                        <span id="template-type-text">Sélectionnez un modèle pour voir les détails</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row g-3">
        <div class="col-md-6">
            <div class="custom-input-wrapper">
                <label for="nom_entreprise" class="form-label required-field">Dénomination de la Société</label>
                <input type="text" class="form-control" id="nom_entreprise" name="nom_entreprise" required
                       value="{{ default_values.get('nom_entreprise', '') }}">
                <i class="fas fa-signature custom-input-icon"></i>
            </div>
        </div>

        <div class="col-md-6">
            <div class="custom-input-wrapper">
                <label for="type_societe" class="form-label required-field">Statut juridique</label>
                <select class="form-select" id="type_societe" name="type_societe" required onchange="checkAssociesCount()">
                    <option value="">Sélectionnez le statut juridique</option>
                    <option value="SARL" {% if default_values.get('type_societe') == 'SARL' %}selected{% endif %}>SARL</option>
                    <option value="SARL AU" {% if default_values.get('type_societe') == 'SARL AU' %}selected{% endif %}>SARL AU</option>
                </select>
                <i class="fas fa-balance-scale custom-input-icon"></i>
            </div>
        </div>

        <div class="col-md-6">
            <div class="custom-input-wrapper">
                <label for="capital" class="form-label required-field">Capital (en MAD)</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="fas fa-coins"></i></span>
                    <input type="number" class="form-control number-input" id="capital" name="capital"
                           required min="1" step="1" onchange="formatCapital(this)"
                           value="{{ default_values.get('capital', 100000) }}">
                    <span class="input-group-text">MAD</span>
                </div>
                <div id="capital-text" class="form-text text-muted mt-2"></div>
            </div>
        </div>

        <div class="col-12">
            <div class="custom-input-wrapper">
                <label for="adresse" class="form-label required-field">Siège Social</label>
                <textarea class="form-control" id="adresse" name="adresse" rows="2" required>{{ default_values.get('adresse', '') }}</textarea>
                <i class="fas fa-map-marker-alt custom-input-icon"></i>
            </div>
        </div>

        <div class="col-md-4">
            <div class="custom-input-wrapper">
                <label for="if_number" class="form-label required-field">Identifiant Fiscal (IF)</label>
                <input type="text" class="form-control number-input" id="if_number" name="if_number"
                       required pattern="[0-9]+" maxlength="8"
                       oninput="validateInput(this, 8, 'if-error')"
                       value="{{ default_values.get('if_number', '') }}">
                <i class="fas fa-id-card custom-input-icon"></i>
                <div class="validation-message" id="if-error"></div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="custom-input-wrapper">
                <label for="rc_number" class="form-label required-field">Registre de Commerce (RC)</label>
                <input type="text" class="form-control number-input" id="rc_number" name="rc_number"
                       required pattern="[0-9]+" maxlength="6"
                       oninput="validateInput(this, 6, 'rc-error')">
                <i class="fas fa-book custom-input-icon"></i>
                <div class="validation-message" id="rc-error"></div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="custom-input-wrapper">
                <label for="ice_number" class="form-label required-field">ICE</label>
                <input type="text" class="form-control number-input" id="ice_number" name="ice_number"
                       required pattern="[0-9]+" maxlength="15"
                       oninput="validateInput(this, 15, 'ice-error')">
                <i class="fas fa-fingerprint custom-input-icon"></i>
                <div class="validation-message" id="ice-error"></div>
            </div>
        </div>
    </div>

    <div class="mt-4 d-flex justify-content-end">
        <button type="button" class="btn btn-primary" onclick="nextSection('entreprise')">
            Suivant <i class="fas fa-arrow-right"></i>
        </button>
    </div>
</div>
